<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Список заказов</title>
    <link rel="stylesheet" th:href="@{/css/all-orders.css}" type="text/css">
</head>
<body>
<div class="orders-container">
    <div class="navigation">
        <a href="/api/v1/apps/institutions" class="link-back">Список закладів</a>
    </div>

    <h1>Список відкритих замовлень</h1>

    <!-- Проверка, есть ли заказы -->
    <div th:if="${orders != null && orders.size() > 0}">
        <div class="orders-grid">
            <!-- Карточка каждого заказа -->
            <div class="order-card" th:each="order : ${orders}">
                <h2>Замовлення №<span th:text="${order.id}"></span></h2>
                <p><strong>Статус:</strong> <span th:text="${order.status}">Відкрито</span></p>
                <p><strong>Побажання:</strong> <span th:text="${order.wishes}">Немає</span></p>
                <p><strong>Дата створення:</strong> <span th:text="${#temporals.format(order.dateOfCreation, 'yyyy-MM-dd HH:mm')}"></span></p>
                <p><strong>Дата закриття:</strong> <span th:text="${order.closingDate}">Невідомо</span></p>
                <p><strong>Резерв ID:</strong> <span th:text="${order.reserve.id}">-</span></p>
                <p><strong>Клієнт ID:</strong> <span th:text="${order.user.id}">-</span></p>
                <p><strong>Ціна:</strong> <span th:text="${order.price}">0</span> грн</p>
                <a th:href="'/api/v1/apps/order-details/' + ${order.id}" class="details-button">Детальніше</a>
            </div>
        </div>
    </div>

    <!-- Если заказов нет, отображаем сообщение -->
    <div th:if="${orders == null || orders.size() == 0}">
        <p class="no-orders-message">Замовлення відсутні.</p>
    </div>
</div>
</body>
</html>
